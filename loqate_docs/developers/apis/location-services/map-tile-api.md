::::::::::::::::::::::::::::::::::::::::::::::::: {#mainBodyContent role="main" tabindex="-1"}
:::::::::::::::::::::::::::::::::::::::::::::::: gd
::::::::::::::::::::::::::::::::::::::::::::::: {.gd__c style="--cols:12"}
:::::::::::::::::::::::::::::::::::::::::::::: {.gd__i .section .ptop--96 .c12 style=" --cspan:12; --rspan:1; --cstart:1;"}
::::::::::::::::::::::::::::::::::::::::::::: {.section .gd__s}
:::::::::::::::::::::::::::::::::::::::::::: {.gd__a style="--cols: 12;--cspan: 12; --rspan: 1;"}
::::::::::::::::::::::::::::::::::::::::::: {.gd__c style="--cols:12"}
::: {.gd__i .section .c3 .t-hide style=" --cspan:3; --rspan:1; --cstart:auto;"}
- [Loqate Basics](#){aria-expanded="false" toggle="dropdown"
  role="button"}

  ::: dd
  - [Start Here](/developers/getting-started/)
  - [Ways To Integrate](/developers/getting-started/ways-to-integrate/)
  - [Creating API Keys](/developers/getting-started/creating-api-keys/)
  - [List Of Endpoints](/developers/getting-started/list-of-endpoints/)
  - [API Security](/developers/getting-started/api-security/)
  - [Monitoring Account
    Usage](/developers/getting-started/monitoring-account-usage/)
  :::
- [Product support](#){aria-expanded="false" toggle="dropdown"
  role="button"}

  ::: dd
  - [Address Capture](/developers/address-capture/)
  - [Address Verify](/developers/address-verify/)
  - [Store Finder](/developers/store-finder/)
  - [Email Validation](/developers/email-validation/)
  - [Phone Validation](/developers/phone-verification/)
  - [Bank Validation](/developers/bank-verification/)
  - [Geocode](/developers/geocode/)
  - [Matchcode (legacy)](/developers/matchcode/)
  :::
- [Guides](#){aria-expanded="false" toggle="dropdown" role="button"}

  ::: {.dd .nav__side-menu}
  - [Address, Email and Phone Validation](#){aria-expanded="false"
    toggle="dropdown" role="button"}

    ::: dd
    - [Quick setup guide -- Address, Email and Phone
      Validation](/developers/guides/quick/)
    - [Advanced Setup Guide](/developers/guides/advanced-setup-guide/)
    - [Address Capture Integration Best
      Practice](/developers/guides/address-capture-integration-best-practice/)
    - [Enabling new Capture
      features](/developers/guides/enabling-new-capture-features/)
    - [SaaS Platform: Setting up a new
      service](/developers/guides/saas-platform-setting-up/)
    - [SaaS Platform: Integration
      options](/developers/guides/saas-platform-integration-options/)
    - [SaaS Platform: SDK](/developers/guides/saas-platform-sdk/)
    - [The Loqate Saas
      Platform](/developers/guides/the-loqate-saas-platform/)
    :::
  - [Data Maintenance](#){aria-expanded="false" toggle="dropdown"
    role="button"}

    ::: dd
    - [Data Maintenance - Post
      Processing](/developers/guides/data-maintenance-post-processing/)
    :::
  - [Data Sets](#){aria-expanded="false" toggle="dropdown"
    role="button"}

    ::: dd
    - [Consuming Premium Data
      Sets](/developers/guides/consuming-premium-data-sets/)
    - [Property Intelligence User
      Guide](/developers/guides/property-intelligence-user-guide/)
    - [Property Intelligence Data
      Directory](/developers/guides/property-intelligence-data-directory/)
    :::
  - [Integrations by platform](#){aria-expanded="false"
    toggle="dropdown" role="button"}

    ::: dd
    - [Adobe Commerce
      (Magento)](/developers/guides/adobe-commerce-magento-integration-guide/)
    - [BigCommerce](/developers/guides/bigcommerce/)
    - [commercetools](/developers/guides/commercetools-integration/)
    - [Microsoft Dynamics
      365](/developers/guides/loqate-for-microsoft-dynamics-365/)
    - [Shopify
      Plus](/developers/guides/the-loqate-shopify-integration-guide/)
    - [Shopware
      6](/developers/guides/loqate-plugin-for-shopware-6-configuration-guide/)
    :::
  - [Store Finder](#){aria-expanded="false" toggle="dropdown"
    role="button"}

    ::: dd
    - [How Does a Store Finder
      Work?](/developers/guides/how-does-a-store-finder-work/)
    - [Creating and Managing Location
      Lists](/developers/guides/creating-and-managing-location-lists/)
    - [How To Implement a Store
      Finder](/developers/guides/how-to-implement-a-store-finder/)
    - [Setting Up Store Finder
      Keys](/developers/guides/setting-up-store-finder-keys/)
    :::
  - [Utilities Register](#){aria-expanded="false" toggle="dropdown"
    role="button"}

    ::: dd
    - [Loqate Utilities Register
      2.0](/developers/guides/loqate-utilities-register/)
    :::
  :::
- [APIs](/developers/api/){aria-expanded="false" toggle="dropdown"
  role="button"}

  ::: dd
  - [Address Capture](/developers/api/capture/)
  - [Address Verify](/developers/api/cleanseplus/)
  - [Store Finder](/developers/apis/location-services/)
  - [Email Validation](/developers/api/emailvalidation/)
  - [Phone Validation](/developers/api/phonenumbervalidation/)
  - [Bank Validation](/developers/api/bankaccountvalidation/)
  - [Geocode](/developers/api/distancesanddirections/)
  - [Generic Errors](/developers/api/generic-errors/)
  :::
- [Sandbox](/developers/sandbox/)
- [FAQs](#){aria-expanded="false" toggle="dropdown" role="button"}

  ::: dd
  - [Address Capture](/developers/faqs/Address-Capture)
  - [Address Verification](/developers/faqs/Address-Verification)
  - [Bank Account
    Verification](/developers/faqs/Bank-Account-Verification)
  - [Common account errors](/developers/faqs/Common-account-errors)
  - [Data Maintenance Annual
    Subscription](/developers/faqs/Data-Maintenance-Annual-Subscription)
  - [Email Verification](/developers/faqs/Email-Verification)
  - [General](/developers/faqs/General)
  - [Geocoding](/developers/faqs/Geocoding)
  - [Geolocation](/developers/faqs/Geolocation)
  - [Phone Verification](/developers/faqs/Phone-Verification)
  - [Technical](/developers/faqs/Technical)
  :::
:::

::::::::::::::::::::::::::::::::::::::::: {.gd__i .section .c9 style=" --cspan:9; --rspan:1; --cstart:auto;"}
:::::::::::::::::::::::::::::::::::::::: gd
::::::::::::::::::::::::::::::::::::::: {.gd__c style="--cols:12"}
:::::::::::::::::::::::::::::::::::::: {.gd__i .section .gd--cen .api_documentation_container .c12 style="--cspan:12;--rspan:1;--cstart:1;"}
::::::::::::::::::::::::::::::::::::: {.section .gd__s}
:::::::::::::::::::::::::::::::::::: {.gd__a style="--cols: 12;--cspan: 12; --rspan: 1;"}
::::::::::::::::::::::::::::::::::: {.gd__c style="--cols:12"}
:::::::: {.gd__i .rte .api_documentation_container .c12 style="--cspan:12;--rspan:1;--cstart:auto;"}
::::::: {#api_documentation_container}
- [Developers](/developers/)
- /
- [APIs](/developers/api/)
- /
- [Location Services](/developers/apis/location-services/)

# Map Tile API

Visually represent the output from the Distance Finder API, in order to
show customers where their nearest stores are.

::::: {.gd__i .tile .c12 .mtop--32 .mbtm--32 style="--cspan: 12; --rspan: 1; --cstart: auto;"}
:::: {.tile-item .bg-sulphur-100 .tile-item--w-border .tile-item--horizontal style="--b: var(--cl-sulphur-400);"}
::: tile__content
Please note that we are unable to serve map data for China.
:::
::::
:::::

The Map Tile API takes an input of your Loqate key and returns a Signed
URL, which is valid for one hour and can be used to provide secure
access our tile server. Whilst the Signed URL is active you can make as
many requests using that URL as needed.

Our tile server provides access to basemap data, tiles and styling for a
map. This can then be used with a map rendering library, such as
[MapLibre](https://github.com/maplibre/maplibre-gl-js){rel="noopener"
target="_blank"} or
[Leaflet](https://leafletjs.com/examples/quick-start/){rel="noopener"
target="_blank"}, to add an interactive map to your application.

Other functionality required for your map, such as pins for locations,
can then be added afterwards via the map renderer.

::: {.nav-quick .mtop--32 .mbtm--64}
- [Mapping concepts](#concepts){.teal .pointer}
- [Request parameters](#request){.teal .pointer}
- [Response fields](#response){.teal .pointer}
- [Errors](#errors){.teal .pointer}
:::
:::::::
::::::::

::: {.gd__i .rte .api_documentation_container .c12 style="--cspan:12;--rspan:1;--cstart:auto;"}
## []{#concepts}Mapping Concepts

There are several key concepts that are important to understand when
implementing a map using this API:

- **Signed URL**: a secure URL generated for a specific session within a
  limited time period, with limited permissions. This contains
  authentication information within the query, thus reducing the time
  required to authenticate and reducing overall response times. You will
  receive two signed URLs, one for vector based tiles and another for
  raster based tiles
- **Basemap data**: basemaps form the foundation for your map, providing
  geographic context stored as tile layers. These layers include the
  context required to display useful information such as the names of
  streets, buildings and land categorisation
- **Vector tiles**: a format of tile that stores map data using vector
  shapes. As these are composed dynamically, they can be easily styled
  and smoothly zoom in and out as a user is navigating. These are
  generally faster to load than Raster tiles, but can be more demanding
  on the end user\'s hardware
- **Raster tiles**: a format of tile that stores map data using grids of
  pixels, commonly as images. These tiles can be slower to load than
  vector tiles, but are generally less demanding on the end user\'s
  hardware
- **Map Style**: a Map style is a JSON document that defines how the map
  will appear when rendered
- **Map renderer**: library required to render a map within an
  application. Once you have defined your data source as the signed URL
  you receive from this API, the map rendering library will pull data
  from Loqate at run time, rendering the map data for you. Commonly used
  open source libraries for this include MapLibre, Leaflet and Amplify
:::

:::: {.gd__i .rte .api_documentation_container .c12 style="--cspan:12;--rspan:1;--cstart:auto;"}
### Application flow using a map renderer

Signed URLs can be used to request individual map tiles if required,
however for more complex applications you\'re likely to use a map
renderer.

The following diagram represents how an application could be designed to
work with our API and a map renderer:

::: screenshot
![Request flow diagram between the browser and the
API](/media/n2vpsodd/map-tile-application-flow.png?rmode=max){height="244"
width="500"}
:::

Here are the steps this flow takes:\
\

1.  Make a request to
    https://api.addressy.com/LocationServices/Mapping/GetUrl/v1.00/json4.ws?key={{license_key}}
    (adding in your own API key)
2.  Receive multiple Signed URLs in the response (one for Raster tiles
    and one for Vector tiles)
3.  Choose whether you want to use Raster tiles or Vector tiles, and
    pass the appropriate Signed URL to the map renderer
4.  The map renderer will request basemap data from Loqate as needed
    (for instance this could be when a user scrolls on your map and the
    renderer interprets which tiles will be needed next)
5.  Loqate will return the appropriate map data
6.  The map renderer will then use this data to render the map on the
    screen of your browser

 

**This method will consume credit each time a signed URL is generated.**
::::

::::::: {.gd__i .rte .api_documentation_container .c12 style="--cspan:12;--rspan:1;--cstart:auto;"}
:::::: {#api_documentation_container}
::::: bg-midnight-100
:::: {.col-12 .justify-content-center .endpoints}
::: {.col-12 .bg-oat .scroll-box}
##### Base URL

https://api.addressy.com/LocationServices/Mapping/GetUrl/v1.00/

Note: we don\'t support API connections using HTTP - all calls should
use HTTPS.

##### JSON

https://api.addressy.com/LocationServices/Mapping/GetUrl/v1.00/json4.ws?

Note: A REST endpoint with a JSON payload is the only call style
supported.
:::
::::
:::::
::::::
:::::::

:::: {.gd__i .rte .api_documentation_container .c12 style="--cspan:12;--rspan:1;--cstart:auto;"}
::: {#api_documentation_container}
### Get URL request {#get-url-request .p--s}

Each request to the web service requires a number of parameters, all of
which are listed below. All requests require a key which can be
generated in [your
account](https://account.loqate.com/account/#/Setup/){rel="noopener"
target="_blank"}.

**Note: where potentially sensitive data is used in these parameters,
remember to make the request as secure as possible.**
:::
::::

:::: {.gd__i .rte .api_documentation_container .c6 style="--cspan:6;--rspan:1;--cstart:auto;"}
::: {#api_documentation_container}
#### []{#request}Request parameters

  -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  [Key]{.api-parameters__name} [Required]{.api-parameters__req} [string]{.api-parameters__type} [The key used to authenticate with the service. For example: \"AA11-AA11-AA11-AA11\".]{.api-parameters__desc}
  -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

 
:::
::::

:::: {.gd__i .rte .api_documentation_container .c6 style="--cspan:6;--rspan:1;--cstart:auto;"}
#### Example request

\
Add your API key into the code below for a sample request:

::: {.snippet .bg-midnight-600 .mtop--32 .mbtm--32}
``` {.line-numbers .language-javascript .bg-midnight-600}
GET https://api.addressy.com/LocationServices/Mapping/GetUrl/v1.00/json4.ws?&key=AA11-AA11-AA11-AA11
```
:::

Content-Type: application/json

 
::::

:::: {.gd__i .rte .api_documentation_container .c12 style="--cspan:12;--rspan:1;--cstart:auto;"}
::: {#api_documentation_container}
### Get URL response {#get-url-response .p--s}

The response from the web service is a table with the specification
below. Where no items are found, the response will be empty (although
all endpoints specify the columns). If an error occurs, the response
will not follow this format. Instead the response will be an [error
table](#errors){anchor="#errors"}.
:::
::::

:::: {.gd__i .rte .api_documentation_container .c7 style="--cspan:7;--rspan:1;--cstart:auto;"}
::: {#api_documentation_container}
#### []{#response}Response fields

  ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  [RasterStyleURL]{.api-parameters__name} [string]{.api-parameters__type} [Signed URL to use when when wanting to render Raster tiles, valid for one hour after creation. This will give you no flexibility over styling options and can be slower to load but is generally less demanding on end user hardware. ]{.api-parameters__desc}
  [VectorStyleURL]{.api-parameters__name} [string]{.api-parameters__type} [Signed URL to use when wanting to render Vector tiles, valid for one hour after creation. This URL contains all the information required by a map renderer to draw the layers of data for the final map. Vector tiles offer more flexibility with styling and improved performance when navigating the map but they can be more demanding on end user hardware.]{.api-parameters__desc}
  [GeneratedOnUtc]{.api-parameters__name} [datetime]{.api-parameters__type} [UTC Timestamp representing when the URLs were signed and generated.]{.api-parameters__desc}
  ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
:::
::::

:::: {.gd__i .rte .api_documentation_container .c5 style="--cspan:5;--rspan:1;--cstart:auto;"}
#### Example response

::: {.snippet .bg-midnight-600 .mtop--32 .mbtm--32}
``` {.line-numbers .language-javascript .bg-midnight-600}
{
    "VectorStyleUrl": "https://tiles.loqate.com/styles/OSM OpenMapTiles/style.json?URLPrefix=aHR0cHM6Ly90aWxlcy5sb3FhdGUuY29t&Expires=1695818398&KeyName=tileserver-key&Signature=_71Ql0cQ9cZWEL_DceW6ipRwSpk=",
    "RasterStyleUrl": "https://tiles.loqate.com/styles/OSM OpenMapTiles.json?URLPrefix=aHR0cHM6Ly90aWxlcy5sb3FhdGUuY29t&Expires=1695818398&KeyName=tileserver-key&Signature=_71Ql0cQ9cZWEL_DceW6ipRwSpk=",
    "GeneratedOnUtc": "2023-09-27T12:39:58.3341192Z"
}
```
:::

 
::::

::: {.gd__i .rte .c12 style="--cspan:12;--rspan:1;--cstart:auto;"}
[Back to top](#)
:::

::::: {.gd__i .rte .api_documentation_container .c12 style="--cspan:12;--rspan:1;--cstart:auto;"}
:::: {#api_documentation_container}
### []{#errors}Errors

Below are the errors which are specific to this web service. If an error
occurs, an error table like the one below will be returned. To check for
an error response, test for a 4-column table with columns \"Error\",
\"Description\", \"Cause\" and \"Resolution\" containing a single row.

Here\'s a generic example, for reference:

 

::: {.snippet .bg-midnight-600 .mtop--32 .mbtm--32}
``` {.line-numbers .language-javascript .bg-midnight-600}
{
    "Items": [
        {
            "Error": "2",
            "Description": "Unknown key",
            "Cause": "The key you are using to access the service was not found.",
            "Resolution": "Please check that the key is correct. It should be in the form AA11-AA11-AA11-AA11."
        }
    ]
}
```
:::

 

For a list of errors applicable to all APIs, have a look at the [list of
common errors](/resources/support/apis/generic-errors/).

  Number   Description           Cause                                             Resolution
  -------- --------------------- ------------------------------------------------- -------------------------------------------------------------------------
  1000     InternalServerError   Something unexpected has happened on the server   Please contact support and quote the error number and this API endpoint
  1001     InternalServerError   Something unexpected has happened on the server   Please contact support and quote the error number and this API endpoint
  1002     InternalServerError   Something unexpected has happened on the server   Please contact support and quote the error number and this API endpoint

[Back to top](#)
::::
:::::

:::: {.gd__i .rte .api_documentation_container .c12 style="--cspan:12;--rspan:1;--cstart:auto;"}
::: {#api_documentation_container}
### Attribution Statement

You must ensure attribution is visible when rendering a map as part of
your application. Loqate uses map styling from
[OpenMapTiles](https://osmfoundation.org/wiki/Licence/Attribution_Guidelines){rel="nofollow noopener noreferer"
target="_blank"} and open data from
[OpenStreetMaps](https://www.openstreetmap.org/copyright){rel="nofollow noopener noreferer"
target="_blank"}.

Attribution is provided by default as part of the map style
configuration, however if you choose to create your own map styling you
must still ensure that this attribution is visible. For further
information on copyright notices please see the [Loqate Terms and
Conditions](https://www.gbgplc.com/en/legal-and-regulatory/products/loqate-storefinder/legal-notices-loqate-storefinder/){rel="nofollow noopener noreferer"
target="_blank"}.

[Back to top](#)
:::
::::
:::::::::::::::::::::::::::::::::::
::::::::::::::::::::::::::::::::::::
:::::::::::::::::::::::::::::::::::::
::::::::::::::::::::::::::::::::::::::
:::::::::::::::::::::::::::::::::::::::
::::::::::::::::::::::::::::::::::::::::
:::::::::::::::::::::::::::::::::::::::::
:::::::::::::::::::::::::::::::::::::::::::
::::::::::::::::::::::::::::::::::::::::::::
:::::::::::::::::::::::::::::::::::::::::::::
::::::::::::::::::::::::::::::::::::::::::::::
:::::::::::::::::::::::::::::::::::::::::::::::
::::::::::::::::::::::::::::::::::::::::::::::::
:::::::::::::::::::::::::::::::::::::::::::::::::
